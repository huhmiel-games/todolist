"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[520],{6332:(e,t,n)=>{var s;n.d(t,{W:()=>r});const r=null!==(s="https://huhmiel-games.github.io/todolist/")?s:"http://0.0.0.0:8000"},1520:(e,t,n)=>{n.d(t,{Router:()=>x});var s=n(12),r=n(1560),c=n(6332);async function o(e){return fetch("".concat(c.W,"/").concat(e),{method:"PATCH"}).then((e=>e.status)).catch((()=>500))}var i=n(2496);function a(e){const{title:t,done:n,id:c}=e.todo,a=(0,r.i6)();return(0,i.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,i.jsx)(s.cH,{to:"/".concat(c),children:(0,i.jsx)("h2",{className:1===n?"text-decoration-line-through":"link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover",children:t})}),(0,i.jsx)("div",{className:"form-check",children:(0,i.jsx)("input",{onChange:()=>(async e=>{const t=await o(e);a(204===t?"/":"/error")})(c),className:"form-check-input",type:"checkbox",value:"",checked:!!n})})]},c)}function l(e){return Array.isArray(e)&&"object"===typeof e[0]&&null!==e[0]&&"title"in e[0]}function d(){return(0,i.jsx)(s.cH,{to:"/add-todo",children:(0,i.jsx)("button",{className:"position-absolute top-0 end-0 m-2 btn btn-primary rounded-circle shadow-sm",children:"\u271a"})})}function u(){const e=(0,r.GY)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{}),(0,i.jsx)("div",{className:"m-2",children:(0,i.jsx)("ul",{className:"list-group",children:l(e)&&e.map((e=>a({todo:e})))})})]})}function h(){(0,r.y_)();return(0,i.jsxs)("div",{className:"p-2 text-center",children:[(0,i.jsx)("h1",{children:"Oops!"}),(0,i.jsx)("p",{children:"Sorry, an unexpected error has occurred."})]})}function m(){const e=(0,r.i6)(),t=(0,r.GY)(),{id:n,title:s,done:c,description:a}=t;return(0,i.jsxs)("div",{className:"border rounded p-2 m-2",children:[(0,i.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,i.jsx)("h2",{className:1===c?"text-decoration-line-through":"",children:s}),(0,i.jsx)("div",{className:"form-check",children:(0,i.jsx)("input",{onChange:()=>(async t=>{const n=await o(t);e(204===n?"/":"/error")})(n),className:"form-check-input",type:"checkbox",value:"",checked:!!c})})]}),(0,i.jsx)("p",{children:a})]})}function p(){const e=(0,r.i6)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"m-2",children:"Add a todo"}),(0,i.jsxs)("form",{role:"form",className:"m-2",onSubmit:async t=>{var n;t.preventDefault();const s=t.target,r=s.title.value,o=(null===(n=s.description)||void 0===n?void 0:n.value)||"",i=await async function(e,t){const n={title:e,description:t};return fetch(c.W,{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify(n)}).then((e=>e.status))}(r,o);201===i&&e("/")},children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"title-input",className:"form-label",children:"Title"}),(0,i.jsx)("input",{role:"input",type:"text",className:"form-control",name:"title",id:"title-input",placeholder:"my todo title",required:!0})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("label",{htmlFor:"description-input",className:"form-label",children:"add a description if you want"}),(0,i.jsx)("textarea",{role:"textarea",className:"form-control",id:"description-input",name:"description",rows:3})]}),(0,i.jsx)("div",{className:"col-12",children:(0,i.jsx)("button",{role:"submit",className:"btn btn-primary",type:"submit",children:"Submit todo"})})]})]})}const x=(0,s.Wq)([{path:"/",element:(0,i.jsx)(u,{}),loader:async function(){const e=await fetch("".concat(c.W));if(200===e.status)return e;throw new Response("",{status:404,statusText:"Not Found"})},errorElement:(0,i.jsx)(h,{})},{path:"/:id",element:(0,i.jsx)(m,{}),loader:async function(e){const t=await fetch("".concat(c.W,"/").concat(e.params.id));if(200===t.status)return t;throw new Response("",{status:404,statusText:"Not Found"})},errorElement:(0,i.jsx)(h,{})},{path:"/add-todo",element:(0,i.jsx)(p,{}),errorElement:(0,i.jsx)(h,{})},{path:"/error",element:(0,i.jsx)(h,{})}])}}]);
//# sourceMappingURL=520.88bac3e2.chunk.js.map